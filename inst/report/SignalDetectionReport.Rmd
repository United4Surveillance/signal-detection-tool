---
title: "Signal Detection Report - `r params$country`"
date: "Report generated on `r Sys.Date()`"
lang: "en"
output: 
  flexdashboard::flex_dashboard:
    orientation: rows
    vertical_layout: scroll

params: 
  data: NULL
  disease: "Pertussis"
  country: "Austria"
  number_of_weeks: 6
  method: "farrington"
  strata: !r c("county_id", "community_id", "sex", "age_group") 
  interactive: false
  tables: true
  signals_padded: NULL
  signals_agg: NULL
  intervention_date: NULL

---


```{r, echo=FALSE}
knitr::opts_chunk$set(eval = TRUE, 
                      echo = FALSE, 
                      fig.align = 'center',
                      fig.width = 13,
                      fig.height = 5,
                      message = FALSE, 
                      warning = FALSE)
```

```{r include=FALSE}
# loading libraries in landing page level
library(dplyr)
library(SignalDetectionTool)
library(htmltools)
library(flexdashboard)
```

<!-- Landing page -->

Landing Page
================================================================================

here information for all pathogens

<!-- Pathogen pages -->

```{r, results='asis'}
src <- lapply(params$disease, function(i) {
  knitr::knit_expand('SignalDetectionReport_body.rmd', 
                     pathogen = i)
})

res <- knitr::knit_child(text = unlist(src), quiet = TRUE)
cat(res, sep = "\n")
```




