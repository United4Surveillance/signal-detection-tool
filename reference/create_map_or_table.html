<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Decider for creating a map or a table based on whether all NUTS_ids are found in the shapefile — create_map_or_table • SignalDetectionTool</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Decider for creating a map or a table based on whether all NUTS_ids are found in the shapefile — create_map_or_table"><meta name="description" content="Decider for creating a map or a table based on whether all NUTS_ids are found in the shapefile"><meta property="og:description" content="Decider for creating a map or a table based on whether all NUTS_ids are found in the shapefile"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SignalDetectionTool</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/SignalDetectionTool.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Decider for creating a map or a table based on whether all NUTS_ids are found in the shapefile</h1>

      <div class="d-none name"><code>create_map_or_table.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Decider for creating a map or a table based on whether all NUTS_ids are found in the shapefile</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_map_or_table</span><span class="op">(</span></span>
<span>  <span class="va">signals_agg</span>,</span>
<span>  <span class="va">data_surveillance</span>,</span>
<span>  <span class="va">region</span>,</span>
<span>  shape <span class="op">=</span> <span class="fu"><a href="get_shp_config_or_internal.html">get_shp_config_or_internal</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  interactive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  toggle_alarms <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  partial <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-signals-agg">signals_agg<a class="anchor" aria-label="anchor" href="#arg-signals-agg"></a></dt>
<dd><p>tibble, aggregated signals over n weeks with columns number of cases, any_alarms and n_alarms <code><a href="aggregate_signals.html">aggregate_signals</a></code>. This tibble can contain the aggregated signals for multiple categories i.e. state and county.</p></dd>


<dt id="arg-data-surveillance">data_surveillance<a class="anchor" aria-label="anchor" href="#arg-data-surveillance"></a></dt>
<dd><p>data.frame, surveillance linelist</p></dd>


<dt id="arg-region">region<a class="anchor" aria-label="anchor" href="#arg-region"></a></dt>
<dd><p>character, specifying the variable for the region to be shown should be one of ("country","state",
"county","community","region_level1", "region_level2","region_level3")</p></dd>


<dt id="arg-shape">shape<a class="anchor" aria-label="anchor" href="#arg-shape"></a></dt>
<dd><p>sf. The shapefile used for mapping.
- If an external shapefile path is provided in the configuration file, it is used.
- Otherwise, the function defaults to the internal European shapefile (`nuts_shp`).
- By default, this parameter is set to `get_shp_config_or_internal()`, which handles this logic dynamically.</p></dd>


<dt id="arg-interactive">interactive<a class="anchor" aria-label="anchor" href="#arg-interactive"></a></dt>
<dd><p>boolean identifying whether the plot should be static or interactive</p></dd>


<dt id="arg-toggle-alarms">toggle_alarms<a class="anchor" aria-label="anchor" href="#arg-toggle-alarms"></a></dt>
<dd><p>boolean identifying whether the plot should showing number of signals explicitly or only when hovering</p></dd>


<dt id="arg-partial">partial<a class="anchor" aria-label="anchor" href="#arg-partial"></a></dt>
<dd><p>logical, add partial bundle to plotly</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a table or a plot depending on whether the matching of the NUTS IDs was fully possible, the table and plots can be interactive or not depening on the interactive parameter, can be class "ggplot" or "plotly" for plot and class "gt_tbl" or "datatables" for table</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">signals</span> <span class="op">&lt;-</span> <span class="va">input_example</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="preprocess_data.html">preprocess_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_signals.html">get_signals</a></span><span class="op">(</span>stratification <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sex"</span>, <span class="st">"county"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">signals_agg</span> <span class="op">&lt;-</span> <span class="va">signals</span> <span class="op">%&gt;%</span> <span class="fu"><a href="aggregate_signals.html">aggregate_signals</a></span><span class="op">(</span>number_of_weeks <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">create_map_or_table</span><span class="op">(</span><span class="va">signals_agg</span>, <span class="va">input_example</span>, <span class="st">"county"</span>, <span class="va">nuts_shp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ann Christin Vietor, Aapo Juutinen, Alena Chalupka, Alexander Ullrich, Jacob Elskær Mollerup, Lukas Richter, Moritz Bach, Norbert Handra, Oskari Luomala, Tomas Martin-Bertelsen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

