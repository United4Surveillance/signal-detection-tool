<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get signals based on a weigthed GLM quasipoisson regression model for the expected case counts The GLM is flexible being able to just fit a mean, add a time trend, fit a harmonic sin/cos model or the seasons from the farringtonflexible. — get_signals_glm • SignalDetectionTool</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get signals based on a weigthed GLM quasipoisson regression model for the expected case counts The GLM is flexible being able to just fit a mean, add a time trend, fit a harmonic sin/cos model or the seasons from the farringtonflexible. — get_signals_glm"><meta name="description" content="Get signals based on a weigthed GLM quasipoisson regression model for the expected case counts
The GLM is flexible being able to just fit a mean, add a time trend, fit a harmonic sin/cos model or the seasons from the farringtonflexible."><meta property="og:description" content="Get signals based on a weigthed GLM quasipoisson regression model for the expected case counts
The GLM is flexible being able to just fit a mean, add a time trend, fit a harmonic sin/cos model or the seasons from the farringtonflexible."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SignalDetectionTool</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/SignalDetectionTool.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get signals based on a weigthed GLM quasipoisson regression model for the expected case counts The GLM is flexible being able to just fit a mean, add a time trend, fit a harmonic sin/cos model or the seasons from the farringtonflexible.</h1>

      <div class="d-none name"><code>get_signals_glm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Get signals based on a weigthed GLM quasipoisson regression model for the expected case counts
The GLM is flexible being able to just fit a mean, add a time trend, fit a harmonic sin/cos model or the seasons from the farringtonflexible.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_signals_glm</span><span class="op">(</span></span>
<span>  <span class="va">data_aggregated</span>,</span>
<span>  number_of_weeks <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  model <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  time_trend <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  return_full_model <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  alpha_upper <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  intervention_date <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  min_timepoints_baseline <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  min_timepoints_trend <span class="op">=</span> <span class="fl">12</span>,</span>
<span>  past_weeks_not_included <span class="op">=</span> <span class="fl">4</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data-aggregated">data_aggregated<a class="anchor" aria-label="anchor" href="#arg-data-aggregated"></a></dt>
<dd><p>data.frame, aggregated data with case counts.</p></dd>


<dt id="arg-number-of-weeks">number_of_weeks<a class="anchor" aria-label="anchor" href="#arg-number-of-weeks"></a></dt>
<dd><p>integer, specifying number of weeks to generate signals for.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>character, default "mean" one of c("mean", "sincos", "FN") specifying which kind of model the glm is fitting. "mean" fits an intercept model, "sincos" a harmonic sincos model, "FN" uses the seasgroups from farrington to fit parameters for seasonality.</p></dd>


<dt id="arg-time-trend">time_trend<a class="anchor" aria-label="anchor" href="#arg-time-trend"></a></dt>
<dd><p>boolean, default TRUE, when TRUE a timetrend is fitted in the glm describing the expected number of cases.</p></dd>


<dt id="arg-return-full-model">return_full_model<a class="anchor" aria-label="anchor" href="#arg-return-full-model"></a></dt>
<dd><p>boolean, default TRUE, specifying whether the fitted values of the model obtained from fitting the model to the first week of number_of_weeks should be returned and attached to data_aggregated as well.</p></dd>


<dt id="arg-alpha-upper">alpha_upper<a class="anchor" aria-label="anchor" href="#arg-alpha-upper"></a></dt>
<dd><p>decimal between 0 and 1, default 0.05 specifying the pvalue cutoff used for computing the threshold, when set to 0.05 the 95 percent quantile is used.</p></dd>


<dt id="arg-intervention-date">intervention_date<a class="anchor" aria-label="anchor" href="#arg-intervention-date"></a></dt>
<dd><p>A date object or character of format yyyy-mm-dd or NULL specifying the date for the intervention in the pandemic correction models. Default is NULL which indicates that no intervention is done, i.e. no additional intercept and possibly new time trend is fitted. When a date is given a new intercept and possibly time_trend (if time_trend == TRUE) is fitted.</p></dd>


<dt id="arg-min-timepoints-baseline">min_timepoints_baseline<a class="anchor" aria-label="anchor" href="#arg-min-timepoints-baseline"></a></dt>
<dd><p>integer, default 12, this parameter is only used when intervention_date is not NULL, specifying the number of weeks at least needed for fitting a new baseline after the intervention.</p></dd>


<dt id="arg-min-timepoints-trend">min_timepoints_trend<a class="anchor" aria-label="anchor" href="#arg-min-timepoints-trend"></a></dt>
<dd><p>integer, default 12, this parameter is only used when intervention_date is not NULL, specifying the number of weeks at least needed for fitting a new timetrend after the intervention.</p></dd>


<dt id="arg-past-weeks-not-included">past_weeks_not_included<a class="anchor" aria-label="anchor" href="#arg-past-weeks-not-included"></a></dt>
<dd><p>An integer specifying the number of past weeks to exclude from
the fitting process. This can be useful for excluding recent data with outbreaks or data that may not be fully reported.
Default is `4`.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>data.frame aggregated data with case counts and additional columns alarms, upperbound and expected obtained from the signal detection algorithm. If return_full_model == TRUE then expected_pad is also added as a column to data_aggregated.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="va">data_aggregated</span> <span class="op">&lt;-</span> <span class="va">input_example</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="preprocess_data.html">preprocess_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="aggregate_data.html">aggregate_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu">add_rows_missing_dates</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">get_signals_glm</span><span class="op">(</span><span class="va">data_aggregated</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ann Christin Vietor, Aapo Juutinen, Alena Chalupka, Alexander Ullrich, Jacob Elskær Mollerup, Lukas Richter, Moritz Bach, Norbert Handra, Oskari Luomala, Tomas Martin-Bertelsen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

